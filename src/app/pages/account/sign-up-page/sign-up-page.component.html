<div class="uk-flex-center" uk-grid>
  <div class="uk-width-1-3@m">
    <p class="uk-text-center uk-margin-xsmall-top uk-margin-xsmall-bottom">
      <span class="uk-icon uk-margin-small-left" uk-icon="icon: logo; ratio: 2.5"></span>
    </p>

    @if(busy) {
    <app-loading></app-loading>
    } @else {
    <div>
      <form [formGroup]="form">
        <div class="uk-card uk-card-body uk-border-rounded">
          <h3 class="uk-card-title uk-text-muted">Cadastre-se</h3>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: happy"></span>
              <input class="uk-input uk-form-large uk-text-muted" formControlName="name" type="text" placeholder="Nome"
                [ngClass]="{'uk-form-danger': (!form.controls['name'].valid && !form.controls['name'].pristine) }">
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: user"></span>
              <input class="uk-input uk-form-large uk-text-muted" formControlName="username" type="text"
                placeholder="Usuário"
                [ngClass]="{'uk-form-danger': (!form.controls['username'].valid && !form.controls['username'].pristine) }">
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: mail"></span>
              <input class="uk-input uk-form-large uk-text-muted" formControlName="email" type="email"
                placeholder="Email"
                [ngClass]="{'uk-form-danger': (!form.controls['email'].valid && !form.controls['email'].pristine) }">
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline" uk-form-custom="target: > * > span:first-child">
              <span class="uk-form-icon uk-margin-small-right" uk-icon="icon: heart"></span>
              <select formControlName="identity" aria-label="Custom controls">
                <option value="" disabled selected>Como você se identifica?</option>
                <option value="1">Lésbica</option>
                <option value="2">Gay</option>
                <option value="3">Bissexual</option>
                <option value="4">Transgênero</option>
                <option value="5">Queer</option>
                <option value="6">Intersexo</option>
                <option value="7">Assexual</option>
                <option value="8">Pansexual</option>
                <option value="9">Demissexual</option>
                <option value="10">Não-binário</option>
                <option value="11">Travesti</option>
                <option value="12">Drag</option>
              </select>
              <button class="uk-input uk-form-large uk-text-muted uk-flex uk-flex-between uk-flex-middle" type="button"
                tabindex="-1">
                <span></span>
                <span uk-icon="icon: chevron-down"></span>
              </button>
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: lock"></span>
              <input class="uk-input uk-form-large uk-text-muted" formControlName="password" type="password"
                placeholder="Senha"
                [ngClass]="{'uk-form-danger': (!form.controls['password'].valid && !form.controls['password'].pristine) }">
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: lock"></span>
              <input class="uk-input uk-form-large uk-text-muted" formControlName="confirmPassword" type="password"
                placeholder="Confirme a senha"
                [ngClass]="{'uk-form-danger': (!form.controls['confirmPassword'].valid && !form.controls['confirmPassword'].pristine) }">
            </div>
          </div>
          <div class="uk-margin uk-text-right">
            <button class="uk-button uk-button-primary uk-border-pill uk-text-muted" [disabled]="form.invalid"
              (click)="submit()">Cadastrar</button>
          </div>
        </div>
      </form>

      <p class="uk-text-center">
        <a [routerLink]="['/login']" class="uk-button uk-button-link">Voltar</a>
      </p>
    </div>
    }
  </div>
</div>