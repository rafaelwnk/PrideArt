<div class="uk-flex-center" uk-grid>
  <div class="uk-width-1-3@m">
    <p class="uk-text-center uk-margin-medium-top uk-margin-xsmall-bottom">
      <span class="uk-icon uk-margin-small-left" uk-icon="icon: logo; ratio: 2.5"></span>
    </p>

    @if(busy) {
    <app-loading></app-loading>
    } @else {
    <div>
      <form [formGroup]="form">
        <div class="uk-card uk-card-body">
          <h3 class="uk-card-title uk-text-muted">Recuperar senha</h3>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: mail"></span>
              <input class="uk-input uk-form-large uk-text-muted uk-border-rounded" formControlName="email" type="email"
                placeholder="Email"
                [ngClass]="{'uk-form-danger': (!form.controls['email'].valid && !form.controls['email'].pristine) }">
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: lock"></span>
              <input class="uk-input uk-form-large uk-text-muted uk-border-rounded" formControlName="password"
                type="password" placeholder="Nova senha"
                [ngClass]="{'uk-form-danger': (!form.controls['password'].valid && !form.controls['password'].pristine) }">
            </div>
          </div>
          <div class="uk-margin">
            <div class="uk-width-1-1 uk-inline">
              <span class="uk-form-icon" uk-icon="icon: lock"></span>
              <input class="uk-input uk-form-large uk-text-muted uk-border-rounded" formControlName="confirmPassword"
                type="password" placeholder="Confirme a senha"
                [ngClass]="{'uk-form-danger': (!form.controls['confirmPassword'].valid && !form.controls['confirmPassword'].pristine) }">
            </div>
          </div>
          <div class="uk-margin uk-text-right">
            <button class="uk-button uk-button-primary uk-border-pill uk-text-muted" [disabled]="form.invalid"
              (click)="submit()">Mudar senha</button>
          </div>
          <p class="uk-text-center">
            <a [routerLink]="['/login']" class="uk-button uk-button-link">Voltar</a>
          </p>
        </div>
      </form>
    </div>
    }
  </div>
</div>